/* ColReorder 1.5.2
 * Â©2010-2019 SpryMedia Ltd - datatables.net/license
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery","datatables.net"],function(b){return a(b,window,document)})}else{if(typeof exports==="object"){module.exports=function(c,b){if(!c){c=window}if(!b||!b.fn.dataTable){b=require("datatables.net")(c,b).$}return a(b,c,c.document)}}else{a(jQuery,window,document)}}}(function(a,i,d,h){var c=a.fn.dataTable;function g(j){var k=[];for(var l=0,m=j.length;l<m;l++){k[j[l]]=l}return k}function e(j,k,l){var m=j.splice(k,1)[0];j.splice(l,0,m)}function f(o,l,n){var j=[];for(var k=0,m=o.childNodes.length;k<m;k++){if(o.childNodes[k].nodeType==1){j.push(o.childNodes[k])}}var p=j[l];if(n!==null){o.insertBefore(p,j[n])}else{o.appendChild(p)}}a.fn.dataTableExt.oApi.fnColReorder=function(D,s,w,p,v){var q,u,y,A,z,r=D.aoColumns.length,B,C;var m=function(G,H,E){if(!G[H]||typeof G[H]==="function"){return}var j=G[H].split(".");var F=j.shift();if(isNaN(F*1)){return}G[H]=E[F*1]+"."+j.join(".")};if(s==w){return}if(s<0||s>=r){this.oApi._fnLog(D,1,"ColReorder 'from' index is out of bounds: "+s);return}if(w<0||w>=r){this.oApi._fnLog(D,1,"ColReorder 'to' index is out of bounds: "+w);return}var l=[];for(q=0,u=r;q<u;q++){l[q]=q}e(l,s,w);var k=g(l);for(q=0,u=D.aaSorting.length;q<u;q++){D.aaSorting[q][0]=k[D.aaSorting[q][0]]}if(D.aaSortingFixed!==null){for(q=0,u=D.aaSortingFixed.length;q<u;q++){D.aaSortingFixed[q][0]=k[D.aaSortingFixed[q][0]]}}for(q=0,u=r;q<u;q++){C=D.aoColumns[q];for(y=0,A=C.aDataSort.length;y<A;y++){C.aDataSort[y]=k[C.aDataSort[y]]}C.idx=k[C.idx]}a.each(D.aLastSort,function(j,E){D.aLastSort[j].src=k[E.src]});for(q=0,u=r;q<u;q++){C=D.aoColumns[q];if(typeof C.mData=="number"){C.mData=k[C.mData]}else{if(a.isPlainObject(C.mData)){m(C.mData,"_",k);m(C.mData,"filter",k);m(C.mData,"sort",k);m(C.mData,"type",k)}}}if(D.aoColumns[s].bVisible){var x=this.oApi._fnColumnIndexToVisible(D,s);var t=null;q=w<s?w:w+1;while(t===null&&q<r){t=this.oApi._fnColumnIndexToVisible(D,q);q++}B=D.nTHead.getElementsByTagName("tr");for(q=0,u=B.length;q<u;q++){f(B[q],x,t)}if(D.nTFoot!==null){B=D.nTFoot.getElementsByTagName("tr");for(q=0,u=B.length;q<u;q++){f(B[q],x,t)}}for(q=0,u=D.aoData.length;q<u;q++){if(D.aoData[q].nTr!==null){f(D.aoData[q].nTr,x,t)}}}e(D.aoColumns,s,w);for(q=0,u=r;q<u;q++){D.oApi._fnColumnOptions(D,q,{})}e(D.aoPreSearchCols,s,w);for(q=0,u=D.aoData.length;q<u;q++){var o=D.aoData[q];var n=o.anCells;if(n){e(n,s,w);for(y=0,z=n.length;y<z;y++){if(n[y]&&n[y]._DT_CellIndex){n[y]._DT_CellIndex.column=y}}}if(o.src!=="dom"&&a.isArray(o._aData)){e(o._aData,s,w)}}for(q=0,u=D.aoHeader.length;q<u;q++){e(D.aoHeader[q],s,w)}if(D.aoFooter!==null){for(q=0,u=D.aoFooter.length;q<u;q++){e(D.aoFooter[q],s,w)}}if(v||v===h){a.fn.dataTable.Api(D).rows().invalidate()}for(q=0,u=r;q<u;q++){a(D.aoColumns[q].nTh).off(".DT");this.oApi._fnSortAttachListener(D,D.aoColumns[q].nTh,q)}a(D.oInstance).trigger("column-reorder.dt",[D,{from:s,to:w,mapping:k,drop:p,iFrom:s,iTo:w,aiInvertMapping:k}])};var b=function(k,l){var m=new a.fn.dataTable.Api(k).settings()[0];if(m._colReorder){return m._colReorder}if(l===true){l={}}var j=a.fn.dataTable.camelToHungarian;if(j){j(b.defaults,b.defaults,true);j(b.defaults,l||{})}this.s={dt:null,enable:null,init:a.extend(true,{},b.defaults,l),fixed:0,fixedRight:0,reorderCallback:null,mouse:{startX:-1,startY:-1,offsetX:-1,offsetY:-1,target:-1,targetIndex:-1,fromIndex:-1},aoTargets:[]};this.dom={drag:null,pointer:null};this.s.enable=this.s.init.bEnable;this.s.dt=m;this.s.dt._colReorder=this;this._fnConstruct();return this};a.extend(b.prototype,{fnEnable:function(j){if(j===false){return fnDisable()}this.s.enable=true},fnDisable:function(){this.s.enable=false},fnReset:function(){this._fnOrderColumns(this.fnOrder());return this},fnGetCurrentOrder:function(){return this.fnOrder()},fnOrder:function(s,r){var k=[],m,n,o,p;var l=this.s.dt.aoColumns;if(s===h){for(m=0,n=l.length;m<n;m++){k.push(l[m]._ColReorder_iOrigCol)}return k}if(r){var q=this.fnOrder();for(m=0,n=s.length;m<n;m++){k.push(a.inArray(s[m],q))}s=k}this._fnOrderColumns(g(s));return this},fnTranspose:function(l,k){if(!k){k="toCurrent"}var m=this.fnOrder();var j=this.s.dt.aoColumns;if(k==="toCurrent"){return !a.isArray(l)?a.inArray(l,m):a.map(l,function(n){return a.inArray(n,m)})}else{return !a.isArray(l)?j[l]._ColReorder_iOrigCol:a.map(l,function(n){return j[n]._ColReorder_iOrigCol})}},_fnConstruct:function(){var p=this;var m=this.s.dt.aoColumns.length;var o=this.s.dt.nTable;var l;if(this.s.init.iFixedColumns){this.s.fixed=this.s.init.iFixedColumns}if(this.s.init.iFixedColumnsLeft){this.s.fixed=this.s.init.iFixedColumnsLeft}this.s.fixedRight=this.s.init.iFixedColumnsRight?this.s.init.iFixedColumnsRight:0;if(this.s.init.fnReorderCallback){this.s.reorderCallback=this.s.init.fnReorderCallback}for(l=0;l<m;l++){if(l>this.s.fixed-1&&l<m-this.s.fixedRight){this._fnMouseListener(l,this.s.dt.aoColumns[l].nTh)}this.s.dt.aoColumns[l]._ColReorder_iOrigCol=l}this.s.dt.oApi._fnCallbackReg(this.s.dt,"aoStateSaveParams",function(r,q){p._fnStateSave.call(p,q)},"ColReorder_State");var j=null;if(this.s.init.aiOrder){j=this.s.init.aiOrder.slice()}if(this.s.dt.oLoadedState&&typeof this.s.dt.oLoadedState.ColReorder!="undefined"&&this.s.dt.oLoadedState.ColReorder.length==this.s.dt.aoColumns.length){j=this.s.dt.oLoadedState.ColReorder}if(j){if(!p.s.dt._bInitComplete){var k=false;a(o).on("draw.dt.colReorder",function(){if(!p.s.dt._bInitComplete&&!k){k=true;var q=g(j);p._fnOrderColumns.call(p,q)}})}else{var n=g(j);p._fnOrderColumns.call(p,n)}}else{this._fnSetColumnIndexes()}a(o).on("destroy.dt.colReorder",function(){a(o).off("destroy.dt.colReorder draw.dt.colReorder");a.each(p.s.dt.aoColumns,function(r,q){a(q.nTh).off(".ColReorder");a(q.nTh).removeAttr("data-column-index")});p.s.dt._colReorder=null;p.s=null})},_fnOrderColumns:function(j){var k=false;if(j.length!=this.s.dt.aoColumns.length){this.s.dt.oInstance.oApi._fnLog(this.s.dt,1,"ColReorder - array reorder does not match known number of columns. Skipping.");return}for(var m=0,n=j.length;m<n;m++){var l=a.inArray(m,j);if(m!=l){e(j,l,m);this.s.dt.oInstance.fnColReorder(l,m,true,false);k=true}}this._fnSetColumnIndexes();if(!k){return}a.fn.dataTable.Api(this.s.dt).rows().invalidate();if(this.s.dt.oScroll.sX!==""||this.s.dt.oScroll.sY!==""){this.s.dt.oInstance.fnAdjustColumnSizing(false)}this.s.dt.oInstance.oApi._fnSaveState(this.s.dt);if(this.s.reorderCallback!==null){this.s.reorderCallback.call(this)}},_fnStateSave:function(q){var m,n,j,o;var p=this.s.dt;var l=p.aoColumns;q.ColReorder=[];if(q.aaSorting){for(m=0;m<q.aaSorting.length;m++){q.aaSorting[m][0]=l[q.aaSorting[m][0]]._ColReorder_iOrigCol}var k=a.extend(true,[],q.aoSearchCols);for(m=0,n=l.length;m<n;m++){o=l[m]._ColReorder_iOrigCol;q.aoSearchCols[o]=k[m];q.abVisCols[o]=l[m].bVisible;q.ColReorder.push(o)}}else{if(q.order){for(m=0;m<q.order.length;m++){q.order[m][0]=l[q.order[m][0]]._ColReorder_iOrigCol}var r=a.extend(true,[],q.columns);for(m=0,n=l.length;m<n;m++){o=l[m]._ColReorder_iOrigCol;q.columns[o]=r[m];q.ColReorder.push(o)}}}},_fnMouseListener:function(j,k){var l=this;a(k).on("mousedown.ColReorder",function(m){if(l.s.enable&&m.which===1){l._fnMouseDown.call(l,m,k)}}).on("touchstart.ColReorder",function(m){if(l.s.enable){l._fnMouseDown.call(l,m,k)}})},_fnMouseDown:function(j,l){var o=this;var n=a(j.target).closest("th, td");var m=n.offset();var k=parseInt(a(l).attr("data-column-index"),10);if(k===h){return}this.s.mouse.startX=this._fnCursorPosition(j,"pageX");this.s.mouse.startY=this._fnCursorPosition(j,"pageY");this.s.mouse.offsetX=this._fnCursorPosition(j,"pageX")-m.left;this.s.mouse.offsetY=this._fnCursorPosition(j,"pageY")-m.top;this.s.mouse.target=this.s.dt.aoColumns[k].nTh;this.s.mouse.targetIndex=k;this.s.mouse.fromIndex=k;this._fnRegions();a(d).on("mousemove.ColReorder touchmove.ColReorder",function(p){o._fnMouseMove.call(o,p)}).on("mouseup.ColReorder touchend.ColReorder",function(p){o._fnMouseUp.call(o,p)})},_fnMouseMove:function(k){var t=this;if(this.dom.drag===null){if(Math.pow(Math.pow(this._fnCursorPosition(k,"pageX")-this.s.mouse.startX,2)+Math.pow(this._fnCursorPosition(k,"pageY")-this.s.mouse.startY,2),0.5)<5){return}this._fnCreateDragNode()}this.dom.drag.css({left:this._fnCursorPosition(k,"pageX")-this.s.mouse.offsetX,top:this._fnCursorPosition(k,"pageY")-this.s.mouse.offsetY});var r;var o=this.s.mouse.toIndex;var j=this._fnCursorPosition(k,"pageX");var s=function(u){while(u>=0){u--;if(u<=0){return null}if(t.s.aoTargets[u+1].x!==t.s.aoTargets[u].x){return t.s.aoTargets[u]}}};var l=function(){for(var u=0;u<t.s.aoTargets.length-1;u++){if(t.s.aoTargets[u].x!==t.s.aoTargets[u+1].x){return t.s.aoTargets[u]}}};var n=function(){for(var u=t.s.aoTargets.length-1;u>0;u--){if(t.s.aoTargets[u].x!==t.s.aoTargets[u-1].x){return t.s.aoTargets[u]}}};for(var m=1;m<this.s.aoTargets.length;m++){var p=s(m);if(!p){p=l()}var q=p.x+(this.s.aoTargets[m].x-p.x)/2;if(this._fnIsLtr()){if(j<q){r=p;break}}else{if(j>q){r=p;break}}}if(r){this.dom.pointer.css("left",r.x);this.s.mouse.toIndex=r.to}else{this.dom.pointer.css("left",n().x);this.s.mouse.toIndex=n().to}if(this.s.init.bRealtime&&o!==this.s.mouse.toIndex){this.s.dt.oInstance.fnColReorder(this.s.mouse.fromIndex,this.s.mouse.toIndex);this.s.mouse.fromIndex=this.s.mouse.toIndex;if(this.s.dt.oScroll.sX!==""||this.s.dt.oScroll.sY!==""){this.s.dt.oInstance.fnAdjustColumnSizing(false)}this._fnRegions()}},_fnMouseUp:function(j){var k=this;a(d).off(".ColReorder");if(this.dom.drag!==null){this.dom.drag.remove();this.dom.pointer.remove();this.dom.drag=null;this.dom.pointer=null;this.s.dt.oInstance.fnColReorder(this.s.mouse.fromIndex,this.s.mouse.toIndex,true);this._fnSetColumnIndexes();if(this.s.dt.oScroll.sX!==""||this.s.dt.oScroll.sY!==""){this.s.dt.oInstance.fnAdjustColumnSizing(false)}this.s.dt.oInstance.oApi._fnSaveState(this.s.dt);if(this.s.reorderCallback!==null){this.s.reorderCallback.call(this)}}},_fnRegions:function(){var k=this.s.dt.aoColumns;var p=this._fnIsLtr();this.s.aoTargets.splice(0,this.s.aoTargets.length);var r=a(this.s.dt.nTable).offset().left;var j=[];a.each(k,function(u,t){if(t.bVisible&&t.nTh.style.display!=="none"){var v=a(t.nTh);var s=v.offset().left;if(p){s+=v.outerWidth()}j.push({index:u,bound:s});r=s}else{j.push({index:u,bound:r})}});var m=j[0];var n=a(k[m.index].nTh).outerWidth();this.s.aoTargets.push({to:0,x:m.bound-n});for(var o=0;o<j.length;o++){var l=j[o];var q=l.index;if(l.index<this.s.mouse.fromIndex){q++}this.s.aoTargets.push({to:q,x:l.bound})}if(this.s.fixedRight!==0){this.s.aoTargets.splice(this.s.aoTargets.length-this.s.fixedRight)}if(this.s.fixed!==0){this.s.aoTargets.splice(0,this.s.fixed)}},_fnCreateDragNode:function(){var o=this.s.dt.oScroll.sX!==""||this.s.dt.oScroll.sY!=="";var k=this.s.dt.aoColumns[this.s.mouse.targetIndex].nTh;var n=k.parentNode;var m=n.parentNode;var l=m.parentNode;var j=a(k).clone();this.dom.drag=a(l.cloneNode(false)).addClass("DTCR_clonedTable").append(a(m.cloneNode(false)).append(a(n.cloneNode(false)).append(j[0]))).css({position:"absolute",top:0,left:0,width:a(k).outerWidth(),height:a(k).outerHeight()}).appendTo("body");this.dom.pointer=a("<div></div>").addClass("DTCR_pointer").css({position:"absolute",top:o?a("div.dataTables_scroll",this.s.dt.nTableWrapper).offset().top:a(this.s.dt.nTable).offset().top,height:o?a("div.dataTables_scroll",this.s.dt.nTableWrapper).height():a(this.s.dt.nTable).height()}).appendTo("body")},_fnSetColumnIndexes:function(){a.each(this.s.dt.aoColumns,function(k,j){a(j.nTh).attr("data-column-index",k)})},_fnCursorPosition:function(j,k){if(j.type.indexOf("touch")!==-1){return j.originalEvent.touches[0][k]}return j[k]},_fnIsLtr:function(){return a(this.s.dt.nTable).css("direction")!=="rtl"}});b.defaults={aiOrder:null,bEnable:true,bRealtime:true,iFixedColumnsLeft:0,iFixedColumnsRight:0,fnReorderCallback:null};b.version="1.5.2";a.fn.dataTable.ColReorder=b;a.fn.DataTable.ColReorder=b;if(typeof a.fn.dataTable=="function"&&typeof a.fn.dataTableExt.fnVersionCheck=="function"&&a.fn.dataTableExt.fnVersionCheck("1.10.8")){a.fn.dataTableExt.aoFeatures.push({fnInit:function(l){var m=l.oInstance;if(!l._colReorder){var j=l.oInit;var k=j.colReorder||j.oColReorder||{};new b(l,k)}else{m.oApi._fnLog(l,1,"ColReorder attempted to initialise twice. Ignoring second")}return null},cFeature:"R",sFeature:"ColReorder"})}else{alert("Warning: ColReorder requires DataTables 1.10.8 or greater - www.datatables.net/download")}a(d).on("preInit.dt.colReorder",function(k,n){if(k.namespace!=="dt"){return}var l=n.oInit.colReorder;var j=c.defaults.colReorder;if(l||j){var m=a.extend({},l,j);if(l!==false){new b(n,m)}}});a.fn.dataTable.Api.register("colReorder.reset()",function(){return this.iterator("table",function(j){j._colReorder.fnReset()})});a.fn.dataTable.Api.register("colReorder.order()",function(k,j){if(k){return this.iterator("table",function(l){l._colReorder.fnOrder(k,j)})}return this.context.length?this.context[0]._colReorder.fnOrder():null});a.fn.dataTable.Api.register("colReorder.transpose()",function(k,j){return this.context.length&&this.context[0]._colReorder?this.context[0]._colReorder.fnTranspose(k,j):k});a.fn.dataTable.Api.register("colReorder.move()",function(k,m,j,l){if(this.context.length){this.context[0]._colReorder.s.dt.oInstance.fnColReorder(k,m,j,l);this.context[0]._colReorder._fnSetColumnIndexes()}return this});a.fn.dataTable.Api.register("colReorder.enable()",function(j){return this.iterator("table",function(k){if(k._colReorder){k._colReorder.fnEnable(j)}})});a.fn.dataTable.Api.register("colReorder.disable()",function(){return this.iterator("table",function(j){if(j._colReorder){j._colReorder.fnDisable()}})});return b}));