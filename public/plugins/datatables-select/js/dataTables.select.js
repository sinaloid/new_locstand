/* Select for DataTables 1.3.1
 * 2015-2019 SpryMedia Ltd - datatables.net/license/mit
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery","datatables.net"],function(b){return a(b,window,document)})}else{if(typeof exports==="object"){module.exports=function(c,b){if(!c){c=window}if(!b||!b.fn.dataTable){b=require("datatables.net")(c,b).$}return a(b,c,c.document)}}else{a(jQuery,window,document)}}}(function(a,u,j,t){var h=a.fn.dataTable;h.select={};h.select.version="1.3.1";h.select.init=function(z){var x=z.settings()[0];var B=x.oInit.select;var y=h.defaults.select;var D=B===t?y:B;var C="row";var G="api";var v=false;var H=true;var A=true;var E="td, th";var w="selected";var F=false;x._select={};if(D===true){G="os";F=true}else{if(typeof D==="string"){G=D;F=true}else{if(a.isPlainObject(D)){if(D.blurable!==t){v=D.blurable}if(D.toggleable!==t){H=D.toggleable}if(D.info!==t){A=D.info}if(D.items!==t){C=D.items}if(D.style!==t){G=D.style;F=true}else{G="os";F=true}if(D.selector!==t){E=D.selector}if(D.className!==t){w=D.className}}}}z.select.selector(E);z.select.items(C);z.select.style(G);z.select.blurable(v);z.select.toggleable(H);z.select.info(A);x._select.className=w;a.fn.dataTable.ext.order["select-checkbox"]=function(J,I){return this.api().column(I,{order:"index"}).nodes().map(function(K){if(J._select.items==="row"){return a(K).parent().hasClass(J._select.className)}else{if(J._select.items==="cell"){return a(K).hasClass(J._select.className)}}return false})};if(!F&&a(z.table().node()).hasClass("selectable")){z.select.style("os")}};function f(w,x,z){var y;var v;var A;var B=function(F,D){if(F>D){var G=D;D=F;F=G}var E=false;return w.columns(":visible").indexes().filter(function(H){if(H===F){E=true}if(H===D){E=false;return true}return E})};var C=function(G,D){var E=w.rows({search:"applied"}).indexes();if(E.indexOf(G)>E.indexOf(D)){var H=D;D=G;G=H}var F=false;return E.filter(function(I){if(I===G){F=true}if(I===D){F=false;return true}return F})};if(!w.cells({selected:true}).any()&&!z){v=B(0,x.column);A=C(0,x.row)}else{v=B(z.column,x.column);A=C(z.row,x.row)}y=w.cells(A,v).flatten();if(!w.cells(x,{selected:true}).any()){w.cells(y).select()}else{w.cells(y).deselect()}}function i(w){var v=w.settings()[0];var x=v._select.selector;a(w.table().container()).off("mousedown.dtSelect",x).off("mouseup.dtSelect",x).off("click.dtSelect",x);a("body").off("click.dtSelect"+c(w.table().node()))}function l(x){var v=a(x.table().container());var w=x.settings()[0];var z=w._select.selector;var y;v.on("mousedown.dtSelect",z,function(A){if(A.shiftKey||A.metaKey||A.ctrlKey){v.css("-moz-user-select","none").one("selectstart.dtSelect",z,function(){return false})}if(u.getSelection){y=u.getSelection()}}).on("mouseup.dtSelect",z,function(){v.css("-moz-user-select","")}).on("click.dtSelect",z,function(D){var G=x.select.items();var F;if(y){var H=u.getSelection();if(!H.anchorNode||a(H.anchorNode).closest("table")[0]===x.table().node()){if(H!==y){return}}}var C=x.settings()[0];var I=a.trim(x.settings()[0].oClasses.sWrapper).replace(/ +/g,".");if(a(D.target).closest("div."+I)[0]!=x.table().container()){return}var A=x.cell(a(D.target).closest("td, th"));if(!A.any()){return}var E=a.Event("user-select.dt");m(x,E,[G,A,D]);if(E.isDefaultPrevented()){return}var B=A.index();if(G==="row"){F=B.row;s(D,x,C,"row",F)}else{if(G==="column"){F=A.index().column;s(D,x,C,"column",F)}else{if(G==="cell"){F=A.index();s(D,x,C,"cell",F)}}}C._select_lastCell=B});a("body").on("click.dtSelect"+c(x.table().node()),function(A){if(w._select.blurable){if(a(A.target).parents().filter(x.table().container()).length){return}if(a(A.target).parents("html").length===0){return}if(a(A.target).parents("div.DTE").length){return}g(w,true)}})}function m(w,y,x,v){if(v&&!w.flatten().length){return}if(typeof y==="string"){y=y+".dt"}x.unshift(w);a(w.table().node()).trigger(y,x)}function o(w){var z=w.settings()[0];if(!z._select.info||!z.aanFeatures.i){return}if(w.select.style()==="api"){return}var A=w.rows({selected:true}).flatten().length;var y=w.columns({selected:true}).flatten().length;var x=w.cells({selected:true}).flatten().length;var v=function(B,C,D){B.append(a('<span class="select-item"/>').append(w.i18n("select."+C+"s",{_:"%d "+C+"s selected",0:"",1:"1 "+C+" selected"},D)))};a.each(z.aanFeatures.i,function(D,B){B=a(B);var E=a('<span class="select-info"/>');v(E,"row",A);v(E,"column",y);v(E,"cell",x);var C=B.children("span.select-info");if(C.length){C.remove()}if(E.text()!==""){B.append(E)}})}function p(w){var v=new h.Api(w);w.aoRowCreatedCallback.push({fn:function(C,y,B){var z,A;var x=w.aoData[B];if(x._select_selected){a(C).addClass(w._select.className)}for(z=0,A=w.aoColumns.length;z<A;z++){if(w.aoColumns[z]._select_selected||(x._selected_cells&&x._selected_cells[z])){a(x.anCells[z]).addClass(w._select.className)}}},sName:"select-deferRender"});v.on("preXhr.dt.dtSelect",function(){var y=v.rows({selected:true}).ids(true).filter(function(z){return z!==t});var x=v.cells({selected:true}).eq(0).map(function(z){var A=v.row(z.row).id(true);return A?{row:A,column:z.column}:t}).filter(function(z){return z!==t});v.one("draw.dt.dtSelect",function(){v.rows(y).select();if(x.any()){x.each(function(z){v.cells(z.row,z.column).select()})}})});v.on("draw.dtSelect.dt select.dtSelect.dt deselect.dtSelect.dt info.dt",function(){o(v)});v.on("destroy.dtSelect",function(){i(v);v.off(".dtSelect")})}function r(v,C,w,A){var z=v[C+"s"]({search:"applied"}).indexes();var x=a.inArray(A,z);var y=a.inArray(w,z);if(!v[C+"s"]({selected:true}).any()&&x===-1){z.splice(a.inArray(w,z)+1,z.length)}else{if(x>y){var B=y;y=x;x=B}z.splice(y+1,z.length);z.splice(0,x)}if(!v[C](w,{selected:true}).any()){v[C+"s"](z).select()}else{z.splice(a.inArray(w,z),1);v[C+"s"](z).deselect()}}function g(w,x){if(x||w._select.style==="single"){var v=new h.Api(w);v.rows({selected:true}).deselect();v.columns({selected:true}).deselect();v.cells({selected:true}).deselect()}}function s(x,w,v,D,y){var B=w.select.style();var C=w.select.toggleable();var z=w[D](y,{selected:true}).any();if(z&&!C){return}if(B==="os"){if(x.ctrlKey||x.metaKey){w[D](y).select(!z)}else{if(x.shiftKey){if(D==="cell"){f(w,y,v._select_lastCell||null)}else{r(w,D,y,v._select_lastCell?v._select_lastCell[D]:null)}}else{var A=w[D+"s"]({selected:true});if(z&&A.flatten().length===1){w[D](y).deselect()}else{A.deselect();w[D](y).select()}}}}else{if(B=="multi+shift"){if(x.shiftKey){if(D==="cell"){f(w,y,v._select_lastCell||null)}else{r(w,D,y,v._select_lastCell?v._select_lastCell[D]:null)}}else{w[D](y).select(!z)}}else{w[D](y).select(!z)}}}function c(v){return v.id.replace(/[^a-zA-Z0-9\-\_]/g,"-")}a.each([{type:"row",prop:"aoData"},{type:"column",prop:"aoColumns"}],function(v,w){h.ext.selector[w.type].push(function(E,B,A){var D=B.selected;var x;var C=[];if(D!==true&&D!==false){return A}for(var y=0,z=A.length;y<z;y++){x=E[w.prop][A[y]];if((D===true&&x._select_selected===true)||(D===false&&!x._select_selected)){C.push(A[y])}}return C})});h.ext.selector.cell.push(function(C,y,v){var B=y.selected;var A;var z=[];if(B===t){return v}for(var w=0,x=v.length;w<x;w++){A=C.aoData[v[w].row];if((B===true&&A._selected_cells&&A._selected_cells[v[w].column]===true)||(B===false&&(!A._selected_cells||!A._selected_cells[v[w].column]))){z.push(v[w])}}return z});var d=h.Api.register;var e=h.Api.registerPlural;d("select()",function(){return this.iterator("table",function(v){h.select.init(new h.Api(v))})});d("select.blurable()",function(v){if(v===t){return this.context[0]._select.blurable}return this.iterator("table",function(w){w._select.blurable=v})});d("select.toggleable()",function(v){if(v===t){return this.context[0]._select.toggleable}return this.iterator("table",function(w){w._select.toggleable=v})});d("select.info()",function(v){if(o===t){return this.context[0]._select.info}return this.iterator("table",function(w){w._select.info=v})});d("select.items()",function(v){if(v===t){return this.context[0]._select.items}return this.iterator("table",function(w){w._select.items=v;m(new h.Api(w),"selectItems",[v])})});d("select.style()",function(v){if(v===t){return this.context[0]._select.style}return this.iterator("table",function(w){w._select.style=v;if(!w._select_init){p(w)}var x=new h.Api(w);i(x);if(v!=="api"){l(x)}m(new h.Api(w),"selectStyle",[v])})});d("select.selector()",function(v){if(v===t){return this.context[0]._select.selector}return this.iterator("table",function(w){i(new h.Api(w));w._select.selector=v;if(w._select.style!=="api"){l(new h.Api(w))}})});e("rows().select()","row().select()",function(w){var v=this;if(w===false){return this.deselect()}this.iterator("row",function(x,y){g(x);x.aoData[y]._select_selected=true;a(x.aoData[y].nTr).addClass(x._select.className)});this.iterator("table",function(x,y){m(v,"select",["row",v[y]],true)});return this});e("columns().select()","column().select()",function(w){var v=this;if(w===false){return this.deselect()}this.iterator("column",function(y,z){g(y);y.aoColumns[z]._select_selected=true;var x=new h.Api(y).column(z);a(x.header()).addClass(y._select.className);a(x.footer()).addClass(y._select.className);x.nodes().to$().addClass(y._select.className)});this.iterator("table",function(x,y){m(v,"select",["column",v[y]],true)});return this});e("cells().select()","cell().select()",function(w){var v=this;if(w===false){return this.deselect()}this.iterator("cell",function(y,A,x){g(y);var z=y.aoData[A];if(z._selected_cells===t){z._selected_cells=[]}z._selected_cells[x]=true;if(z.anCells){a(z.anCells[x]).addClass(y._select.className)}});this.iterator("table",function(x,y){m(v,"select",["cell",v[y]],true)});return this});e("rows().deselect()","row().deselect()",function(){var v=this;this.iterator("row",function(w,x){w.aoData[x]._select_selected=false;a(w.aoData[x].nTr).removeClass(w._select.className)});this.iterator("table",function(w,x){m(v,"deselect",["row",v[x]],true)});return this});e("columns().deselect()","column().deselect()",function(){var v=this;this.iterator("column",function(y,z){y.aoColumns[z]._select_selected=false;var w=new h.Api(y);var x=w.column(z);a(x.header()).removeClass(y._select.className);a(x.footer()).removeClass(y._select.className);w.cells(null,z).indexes().each(function(A){var C=y.aoData[A.row];var B=C._selected_cells;if(C.anCells&&(!B||!B[A.column])){a(C.anCells[A.column]).removeClass(y._select.className)}})});this.iterator("table",function(w,x){m(v,"deselect",["column",v[x]],true)});return this});e("cells().deselect()","cell().deselect()",function(){var v=this;this.iterator("cell",function(x,z,w){var y=x.aoData[z];y._selected_cells[w]=false;if(y.anCells&&!x.aoColumns[w]._select_selected){a(y.anCells[w]).removeClass(x._select.className)}});this.iterator("table",function(w,x){m(v,"deselect",["cell",v[x]],true)});return this});function n(w,v){return function(x){return x.i18n("buttons."+w,v)}}function q(v){var w=v._eventNamespace;return"draw.dt.DT"+w+" select.dt.DT"+w+" deselect.dt.DT"+w}function k(w,v){if(a.inArray("rows",v.limitTo)!==-1&&w.rows({selected:true}).any()){return true}if(a.inArray("columns",v.limitTo)!==-1&&w.columns({selected:true}).any()){return true}if(a.inArray("cells",v.limitTo)!==-1&&w.cells({selected:true}).any()){return true}return false}var b=0;a.extend(h.ext.buttons,{selected:{text:n("selected","Selected"),className:"buttons-selected",limitTo:["rows","columns","cells"],init:function(w,x,v){var y=this;v._eventNamespace=".select"+(b++);w.on(q(v),function(){y.enable(k(w,v))});this.disable()},destroy:function(w,x,v){w.off(v._eventNamespace)}},selectedSingle:{text:n("selectedSingle","Selected single"),className:"buttons-selected-single",init:function(w,x,v){var y=this;v._eventNamespace=".select"+(b++);w.on(q(v),function(){var z=w.rows({selected:true}).flatten().length+w.columns({selected:true}).flatten().length+w.cells({selected:true}).flatten().length;y.enable(z===1)});this.disable()},destroy:function(w,x,v){w.off(v._eventNamespace)}},selectAll:{text:n("selectAll","Select all"),className:"buttons-select-all",action:function(){var v=this.select.items();this[v+"s"]().select()}},selectNone:{text:n("selectNone","Deselect all"),className:"buttons-select-none",action:function(){g(this.settings()[0],true)},init:function(w,x,v){var y=this;v._eventNamespace=".select"+(b++);w.on(q(v),function(){var z=w.rows({selected:true}).flatten().length+w.columns({selected:true}).flatten().length+w.cells({selected:true}).flatten().length;y.enable(z>0)});this.disable()},destroy:function(w,x,v){w.off(v._eventNamespace)}}});a.each(["Row","Column","Cell"],function(v,w){var x=w.toLowerCase();h.ext.buttons["select"+w+"s"]={text:n("select"+w+"s","Select "+x+"s"),className:"buttons-select-"+x+"s",action:function(){this.select.items(x)},init:function(y){var z=this;y.on("selectItems.dt.DT",function(B,A,C){z.active(C===x)})}}});a(j).on("preInit.dt.dtSelect",function(w,v){if(w.namespace!=="dt"){return}h.select.init(new h.Api(v))});return h.select}));