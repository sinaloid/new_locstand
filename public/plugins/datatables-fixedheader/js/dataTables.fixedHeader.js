/* FixedHeader 3.1.6-dev
 * Â©2009-2018 SpryMedia Ltd - datatables.net/license
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery","datatables.net"],function(b){return a(b,window,document)})}else{if(typeof exports==="object"){module.exports=function(c,b){if(!c){c=window}if(!b||!b.fn.dataTable){b=require("datatables.net")(c,b).$}return a(b,c,c.document)}}else{a(jQuery,window,document)}}}(function(a,g,d,f){var c=a.fn.dataTable;var b=0;var e=function(i,h){if(!(this instanceof e)){throw"FixedHeader must be initialised with the 'new' keyword."}if(h===true){h={}}i=new c.Api(i);this.c=a.extend(true,{},e.defaults,h);this.s={dt:i,position:{theadTop:0,tbodyTop:0,tfootTop:0,tfootBottom:0,width:0,left:0,tfootHeight:0,theadHeight:0,windowHeight:a(g).height(),visible:true},headerMode:null,footerMode:null,autoWidth:i.settings()[0].oFeatures.bAutoWidth,namespace:".dtfc"+(b++),scrollLeft:{header:-1,footer:-1},enable:true};this.dom={floatingHeader:null,thead:a(i.table().header()),tbody:a(i.table().body()),tfoot:a(i.table().footer()),header:{host:null,floating:null,placeholder:null},footer:{host:null,floating:null,placeholder:null}};this.dom.header.host=this.dom.thead.parent();this.dom.footer.host=this.dom.tfoot.parent();var j=i.settings()[0];if(j._fixedHeader){throw"FixedHeader already initialised on table "+j.nTable.id}j._fixedHeader=this;this._constructor()};a.extend(e.prototype,{destroy:function(){this.s.dt.off(".dtfc");a(g).off(this.s.namespace);if(this.c.header){this._modeChange("in-place","header",true)}if(this.c.footer&&this.dom.tfoot.length){this._modeChange("in-place","footer",true)}},enable:function(h,i){this.s.enable=h;if(i||i===f){this._positions();this._scroll(true)}},enabled:function(){return this.s.enable},headerOffset:function(h){if(h!==f){this.c.headerOffset=h;this.update()}return this.c.headerOffset},footerOffset:function(h){if(h!==f){this.c.footerOffset=h;this.update()}return this.c.footerOffset},update:function(){var h=this.s.dt.table().node();if(a(h).is(":visible")){this.enable(true,false)}else{this.enable(false,false)}this._positions();this._scroll(true)},_constructor:function(){var k=this;var j=this.s.dt;a(g).on("scroll"+this.s.namespace,function(){k._scroll()}).on("resize"+this.s.namespace,c.util.throttle(function(){k.s.position.windowHeight=a(g).height();k.update()},50));var i=a(".fh-fixedHeader");if(!this.c.headerOffset&&i.length){this.c.headerOffset=i.outerHeight()}var h=a(".fh-fixedFooter");if(!this.c.footerOffset&&h.length){this.c.footerOffset=h.outerHeight()}j.on("column-reorder.dt.dtfc column-visibility.dt.dtfc draw.dt.dtfc column-sizing.dt.dtfc responsive-display.dt.dtfc",function(){k.update()});j.on("destroy.dtfc",function(){k.destroy()});this._positions();this._scroll()},_clone:function(j,i){var h=this.s.dt;var k=this.dom[j];var l=j==="header"?this.dom.thead:this.dom.tfoot;if(!i&&k.floating){k.floating.removeClass("fixedHeader-floating fixedHeader-locked")}else{if(k.floating){k.placeholder.remove();this._unsize(j);k.floating.children().detach();k.floating.remove()}k.floating=a(h.table().node().cloneNode(false)).css("table-layout","fixed").attr("aria-hidden","true").removeAttr("id").append(l).appendTo("body");k.placeholder=l.clone(false);k.placeholder.find("*[id]").removeAttr("id");k.host.prepend(k.placeholder);this._matchWidths(k.placeholder,k.floating)}},_matchWidths:function(h,m){var i=function(n){return a(n,h).map(function(){return a(this).width()}).toArray()};var j=function(n,o){a(n,m).each(function(p){a(this).css({width:o[p],minWidth:o[p]})})};var l=i("th");var k=i("td");j("th",l);j("td",k)},_unsize:function(i){var h=this.dom[i].floating;if(h&&(i==="footer"||(i==="header"&&!this.s.autoWidth))){a("th, td",h).css({width:"",minWidth:""})}else{if(h&&i==="header"){a("th, td",h).css("min-width","")}}},_horizontal:function(h,l){var i=this.dom[h];var k=this.s.position;var j=this.s.scrollLeft;if(i.floating&&j[h]!==l){i.floating.css("left",k.left-l);j[h]=l}},_modeChange:function(m,k,j){var h=this.s.dt;var l=this.dom[k];var n=this.s.position;var o=this.dom[k==="footer"?"tfoot":"thead"];var i=a.contains(o[0],d.activeElement)?d.activeElement:null;if(i){i.blur()}if(m==="in-place"){if(l.placeholder){l.placeholder.remove();l.placeholder=null}this._unsize(k);if(k==="header"){l.host.prepend(o)}else{l.host.append(o)}if(l.floating){l.floating.remove();l.floating=null}}else{if(m==="in"){this._clone(k,j);l.floating.addClass("fixedHeader-floating").css(k==="header"?"top":"bottom",this.c[k+"Offset"]).css("left",n.left+"px").css("width",n.width+"px");if(k==="footer"){l.floating.css("top","")}}else{if(m==="below"){this._clone(k,j);l.floating.addClass("fixedHeader-locked").css("top",n.tfootTop-n.theadHeight).css("left",n.left+"px").css("width",n.width+"px")}else{if(m==="above"){this._clone(k,j);l.floating.addClass("fixedHeader-locked").css("top",n.tbodyTop).css("left",n.left+"px").css("width",n.width+"px")}}}}if(i&&i!==d.activeElement){setTimeout(function(){i.focus()},10)}this.s.scrollLeft.header=-1;this.s.scrollLeft.footer=-1;this.s[k+"Mode"]=m},_positions:function(){var i=this.s.dt;var k=i.table();var j=this.s.position;var h=this.dom;var l=a(k.node());var o=l.children("thead");var n=l.children("tfoot");var m=h.tbody;j.visible=l.is(":visible");j.width=l.outerWidth();j.left=l.offset().left;j.theadTop=o.offset().top;j.tbodyTop=m.offset().top;j.tbodyHeight=m.outerHeight();j.theadHeight=j.tbodyTop-j.theadTop;if(n.length){j.tfootTop=n.offset().top;j.tfootBottom=j.tfootTop+n.outerHeight();j.tfootHeight=j.tfootBottom-j.tfootTop}else{j.tfootTop=j.tbodyTop+m.outerHeight();j.tfootBottom=j.tfootTop;j.tfootHeight=j.tfootTop}},_scroll:function(i){var m=a(d).scrollTop();var l=a(d).scrollLeft();var k=this.s.position;var j,h;if(this.c.header){if(!this.s.enable){j="in-place"}else{if(!k.visible||m<=k.theadTop-this.c.headerOffset){j="in-place"}else{if(m<=k.tfootTop-k.theadHeight-this.c.headerOffset){j="in"}else{j="below"}}}if(i||j!==this.s.headerMode){this._modeChange(j,"header",i)}this._horizontal("header",l)}if(this.c.footer&&this.dom.tfoot.length){if(!this.s.enable){j="in-place"}else{if(!k.visible||m+k.windowHeight>=k.tfootBottom+this.c.footerOffset){h="in-place"}else{if(k.windowHeight+m>k.tbodyTop+k.tfootHeight+this.c.footerOffset){h="in"}else{h="above"}}}if(i||h!==this.s.footerMode){this._modeChange(h,"footer",i)}this._horizontal("footer",l)}}});e.version="3.1.6-dev";e.defaults={header:true,footer:false,headerOffset:0,footerOffset:0};a.fn.dataTable.FixedHeader=e;a.fn.DataTable.FixedHeader=e;a(d).on("init.dt.dtfh",function(i,m,k){if(i.namespace!=="dt"){return}var j=m.oInit.fixedHeader;var h=c.defaults.fixedHeader;if((j||h)&&!m._fixedHeader){var l=a.extend({},h,j);if(j!==false){new e(m,l)}}});c.Api.register("fixedHeader()",function(){});c.Api.register("fixedHeader.adjust()",function(){return this.iterator("table",function(h){var i=h._fixedHeader;if(i){i.update()}})});c.Api.register("fixedHeader.enable()",function(h){return this.iterator("table",function(i){var j=i._fixedHeader;h=(h!==f?h:true);if(j&&h!==j.enabled()){j.enable(h)}})});c.Api.register("fixedHeader.enabled()",function(){if(this.context.length){var h=this.content[0]._fixedHeader;if(fh){return fh.enabled()}}return false});c.Api.register("fixedHeader.disable()",function(){return this.iterator("table",function(h){var i=h._fixedHeader;if(i&&i.enabled()){i.enable(false)}})});a.each(["header","footer"],function(j,h){c.Api.register("fixedHeader."+h+"Offset()",function(k){var i=this.context;if(k===f){return i.length&&i[0]._fixedHeader?i[0]._fixedHeader[h+"Offset"]():f}return this.iterator("table",function(l){var m=l._fixedHeader;if(m){m[h+"Offset"](k)}})})});return e}));